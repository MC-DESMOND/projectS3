@{
    ViewData["Title"] = "Create User";
    Layout = null;
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<div class = "page-container">
    <div>
        <i class = "fa-solid fa-user"></i>
        <h2>Create New Employee</h2>
    </div>

    <form method = "post" action = "/CreateUser/Create">
        <div class = "name-container">
            <label for = "fullName">Full Name:</label>
            <input type = "text" id = "fullName" name = "fullName" autocomplete = "off" placeholder = "Enter full name" required/>
        </div>

        <div class = "email-container">
            <label for = "email"><i class = "fa-solid fa-envelope"></i>Email:</label>
            <input type = "email" id = "email" name = "email" autocomplete = "off" placeholder = "Enter email address" required/>
        </div>

        <div class = "department-container">
            <label for = "department"><i class = "fa-solid fa-building"></i>Department:</label>
            <select name = "department" id = "department" required onchange = "updatePositions()">
                <option value = "">Select Department</option>
                <option value = "IT">IT</option>
                <option value = "Medical">Medical</option>
                <option value = "Finance">Finance</option>
            </select>
        </div>

        <div class = "position-container">
            <label for = "position"><i class = "fa-solid fa-briefcase"></i>Position:</label>
            <select name = "position" id = "position" required disabled hidden">
                <option value = "">Select Department First</option>
            </select>
        </div>

        <div class = "hire-date-container">
            <label for = "hireDate"><i class = "fa-solid fa-calendar-days"></i>Hire Date:</label>
            <input type = "date" id = "hireDate" name = "hireDate" required/>
        </div>

        <div class = "dob-container">
            <label for = "dateOfBirth"><i class = "fa-solid fa-cake-candles"></i>Date of Birth:</label>
            <input type = "date" id = "dateOdBirth" name = "dateOfBirth" required/>
        </div>

        <div class = "employee-type-container">
            <label for = "employeeType"><i class = "fa-solid fa-user-tie"></i>Employee Type:</label>
            <select id = "employeeType" name = "employeeType" required>
                <option value = "">Select Employee Type</option>
                <option value = "Permanent">Permanent</option>
                <option value = "Temporary">Temporary</option>
            </select>
        </div>

        <div class = "gender-container">
            <label><i class = "fa-solid fa-venus-mars"></i>Gender:</label>
            <input type = "radio" id = "male" name = "gender" value = "Male" required/>
            <label for = "male">Male</label>
            
            <input type = "radio" id = "female" name = "gender" value = "Female" required/>
            <label for = "female">Female</label>
            
            <input type = "radio" id = "other" name = "gender" value = "Other" required/>
            <label for = "other">Other</label>
        </div>

        <div class = "salary-container">
            <label for = "salary"><i class = "fa-solid fa-sack-dollar"></i>Salary:</label>
            <input type = "number" id = "salary" name = "salary" required min = "0" step = "0.01">
        </div>

        <div class = "redirect-buttons">
            <button type = "submit">Create</button>
            <button>Back</button>
        </div>
    </form>
</div>

<script>
    @* Dynamic Dropdowns for Department and Position fields *@
    function updatePositions()
    {
        var department = document.getElementById("department").value;
        var positionSelect = document.getElementById("position");

        positionSelect.innerHTML = "";

        if (department === "IT")
        {
            var options = ["Software Developer", "Network Engineer", "Data Analyst"];
        } else if (department === "Medical")
        {
            var options = ["Doctor", "Nurse", "Pharmacist"];
        } else if (department === "Finance")
        {
            var options = ["Accountant", "Financial Analyst", "Auditor"];
        } else
        {
            positionSelect.innerHTML = "<option value = ''>Select Department First</option>";
            positionSelect.disabled = true;

            return;
        }

        positionSelect.innerHTML = "<option value = ''>Select Position</option>";
        options.forEach(function (position)
        {
            var optionElement = document.createElement("option");
            optionElement.value = position;
            optionElement.textContent = position;
            positionSelect.appendChild(optionElement);
        });

        positionSelect.disabled = false;
    }
</script>